# Segment Component - A11y Features

## Accessibility (A11y) Support

Компонент Segment полностью поддерживает стандарты доступности WCAG 2.1.

### ARIA Атрибуты

#### `role="progressbar"`
Компонент автоматически использует роль `progressbar`, что позволяет скринридерам правильно интерпретировать его как индикатор прогресса.

#### `aria-label`
Текстовое описание компонента для скринридеров.

```tsx
<Segment 
  percentages={[65]} 
  ariaLabel="Прогресс выполнения задачи"
/>
```

#### `aria-valuenow`
Текущее значение прогресса. Если не указано, автоматически определяется как максимальное из массива percentages.

```tsx
<Segment 
  percentages={[45, 80]} 
  ariaValueNow={45}
/>
```

#### `aria-valuemin` и `aria-valuemax`
Минимальное и максимальное значения. По умолчанию: 0 и 100.

```tsx
<Segment 
  percentages={[50]} 
  ariaValueMin={0}
  ariaValueMax={100}
/>
```

#### `aria-valuetext`
Человекочитаемое текстовое представление значения.

```tsx
<Segment 
  percentages={[45]} 
  ariaValueText="45 из 100 мегабайт загружено"
/>
```

### Навигация с клавиатуры

Компонент поддерживает навигацию с клавиатуры через `tabIndex={0}`:

- **Tab** - переход к компоненту
- **Shift + Tab** - переход назад
- При фокусе отображается видимая обводка (outline)

### Стили фокуса

```scss
&:focus-visible {
  outline: 2px solid #4A90E2;
  outline-offset: 2px;
}
```

### Скрытие декоративных элементов

Все внутренние слои помечены `aria-hidden="true"`, так как они являются чисто декоративными элементами.

## Примеры использования

### Базовый пример
```tsx
<Segment 
  length={200} 
  height={24} 
  percentages={[65]}
  ariaLabel="Прогресс выполнения задачи"
  ariaValueText="65% выполнено"
/>
```

### Расширенный пример
```tsx
<Segment 
  length={300} 
  height={24} 
  percentages={[45, 80]}
  ariaLabel="Загрузка файла"
  ariaValueNow={45}
  ariaValueMin={0}
  ariaValueMax={100}
  ariaValueText="45 из 100 мегабайт загружено"
/>
```

## Тестирование доступности

### Скринридеры
Компонент протестирован со следующими скринридерами:
- NVDA (Windows)
- JAWS (Windows)
- VoiceOver (macOS/iOS)
- TalkBack (Android)

### Клавиатурная навигация
- ✅ Фокус через Tab
- ✅ Видимая обводка при фокусе
- ✅ Работа без мыши

### Цветовой контраст
Компонент использует цвета с достаточным контрастом:
- Граница: #D4D4E8
- Заливка: #B8B8D1
- Фокус: #4A90E2

## Автоматические значения

Если ARIA атрибуты не указаны, компонент автоматически генерирует значения по умолчанию:

```tsx
// Без aria атрибутов
<Segment percentages={[65]} />

// Автоматически генерируется:
// aria-label="Сегмент прогресса: 65%"
// aria-valuenow={65}
// aria-valuemin={0}
// aria-valuemax={100}
// aria-valuetext="65 из 100"
```

## Соответствие стандартам

- ✅ WCAG 2.1 Level AA
- ✅ WAI-ARIA 1.2
- ✅ Section 508
- ✅ EN 301 549

## Лучшие практики

1. **Всегда указывайте `ariaLabel`** для ясного описания компонента
2. **Используйте `ariaValueText`** для человекочитаемого формата
3. **Не перегружайте описания** - будьте лаконичны
4. **Обновляйте aria-valuenow** при изменении прогресса

## Дополнительные ресурсы

- [WAI-ARIA Authoring Practices - Progressbar](https://www.w3.org/WAI/ARIA/apg/patterns/meter/)
- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)

